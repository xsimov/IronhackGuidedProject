<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>Creating the CRUD&#39;s | IRONHACK GUIDED PROJECT</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.7.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="../backend/bag_crud.html" />
    
    
    <link rel="prev" href="../backend/crud.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="3.10.1" data-basepath=".." data-revision="1407705890245">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/null" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >IRONHACK GUIDED PROJECT</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        

        

        

	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="plan_your_project/README.html">
            
                
                    <a href="../plan_your_project/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Plan your project
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="design_the_database/README.html">
            
                
                    <a href="../design_the_database/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Design the database
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="backend/README.html">
            
                
                    <a href="../backend/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Backend
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="backend/setup_ruby_&amp;_ruby_on_rails.html">
            
                
                    <a href="../backend/setup_ruby_&amp;_ruby_on_rails.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         Setup Ruby &amp; Ruby on Rails
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="backend/create_a_new_project.html">
            
                
                    <a href="../backend/create_a_new_project.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         Create a new project
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="backend/scaffolding.html">
            
                
                    <a href="../backend/scaffolding.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         Scaffolding
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="backend/model-view-controller.html">
            
                
                    <a href="../backend/model-view-controller.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         Model-View-Controller
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="backend/gemfile.html">
            
                
                    <a href="../backend/gemfile.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         Gemfile
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.6" data-path="backend/set_up_the_database.html">
            
                
                    <a href="../backend/set_up_the_database.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                         Set up the database
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.7" data-path="backend/home_page.html">
            
                
                    <a href="../backend/home_page.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                         Home Page
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.8" data-path="backend/creating_the_models.html">
            
                
                    <a href="../backend/creating_the_models.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                         Creating the Models
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.9" data-path="backend/validations.html">
            
                
                    <a href="../backend/validations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.9.</b>
                        
                         Validations
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.10" data-path="backend/crud.html">
            
                
                    <a href="../backend/crud.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.10.</b>
                        
                         CRUD
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter active" data-level="3.10.1" data-path="backend/creating_the_cruds.html">
            
                
                    <a href="../backend/creating_the_cruds.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.10.1.</b>
                        
                         Creating the CRUD&#39;s
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.10.2" data-path="backend/bag_crud.html">
            
                
                    <a href="../backend/bag_crud.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.10.2.</b>
                        
                         First Form
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.10.3" data-path="backend/nested_form.html">
            
                
                    <a href="../backend/nested_form.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.10.3.</b>
                        
                         Nested Form
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="backend/naming_convention.html">
            
                
                    <a href="../backend/naming_convention.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Naming convention
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="creating_an_api/README">
            
                
                    <a href="../creating_an_api/README">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Creating an API
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="creating_an_api/postman">
            
                
                    <a href="../creating_an_api/postman">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         Postman
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="frontend/README.html">
            
                
                    <a href="../frontend/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         Frontend
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1" data-path="frontend/inside_the_current_application">
            
                
                    <a href="../frontend/inside_the_current_application">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                         Inside the current application
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="6.1.1" data-path="frontend/bootstrap_simple_guide_of_use">
            
                
                    <a href="../frontend/bootstrap_simple_guide_of_use">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.1.</b>
                        
                         Bootstrap: simple guide of use
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6.1.2" data-path="frontend/using_sass">
            
                
                    <a href="../frontend/using_sass">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.2.</b>
                        
                         Using SASS
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6.2" data-path="frontend/client-side_using_the_api">
            
                
                    <a href="../frontend/client-side_using_the_api">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                         Client-side using the API
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="upload_to_heroku/README">
            
                
                    <a href="../upload_to_heroku/README">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Upload to Heroku
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="bonus_create_your_own_gem/README">
            
                
                    <a href="../bonus_create_your_own_gem/README">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         BONUS: Create your own gem
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 53.84615384615385%;min-width: 50%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../plan_your_project/README.html" title="Plan your project" class="chapter done new-chapter" data-progress="1" style="left: 3.8461538461538463%;"></a>
    
        <a href="../design_the_database/README.html" title="Design the database" class="chapter done new-chapter" data-progress="2" style="left: 7.6923076923076925%;"></a>
    
        <a href="../backend/README.html" title="Backend" class="chapter done new-chapter" data-progress="3" style="left: 11.538461538461538%;"></a>
    
        <a href="../backend/setup_ruby_&amp;_ruby_on_rails.html" title="Setup Ruby &amp; Ruby on Rails" class="chapter done " data-progress="3.1" style="left: 15.384615384615385%;"></a>
    
        <a href="../backend/create_a_new_project.html" title="Create a new project" class="chapter done " data-progress="3.2" style="left: 19.23076923076923%;"></a>
    
        <a href="../backend/scaffolding.html" title="Scaffolding" class="chapter done " data-progress="3.3" style="left: 23.076923076923077%;"></a>
    
        <a href="../backend/model-view-controller.html" title="Model-View-Controller" class="chapter done " data-progress="3.4" style="left: 26.923076923076923%;"></a>
    
        <a href="../backend/gemfile.html" title="Gemfile" class="chapter done " data-progress="3.5" style="left: 30.76923076923077%;"></a>
    
        <a href="../backend/set_up_the_database.html" title="Set up the database" class="chapter done " data-progress="3.6" style="left: 34.61538461538461%;"></a>
    
        <a href="../backend/home_page.html" title="Home Page" class="chapter done " data-progress="3.7" style="left: 38.46153846153846%;"></a>
    
        <a href="../backend/creating_the_models.html" title="Creating the Models" class="chapter done " data-progress="3.8" style="left: 42.30769230769231%;"></a>
    
        <a href="../backend/validations.html" title="Validations" class="chapter done " data-progress="3.9" style="left: 46.15384615384615%;"></a>
    
        <a href="../backend/crud.html" title="CRUD" class="chapter done " data-progress="3.10" style="left: 50%;"></a>
    
        <a href="../backend/creating_the_cruds.html" title="Creating the CRUD&#39;s" class="chapter done " data-progress="3.10.1" style="left: 53.84615384615385%;"></a>
    
        <a href="../backend/bag_crud.html" title="First Form" class="chapter  " data-progress="3.10.2" style="left: 57.69230769230769%;"></a>
    
        <a href="../backend/nested_form.html" title="Nested Form" class="chapter  " data-progress="3.10.3" style="left: 61.53846153846154%;"></a>
    
        <a href="../backend/naming_convention.html" title="Naming convention" class="chapter  new-chapter" data-progress="4" style="left: 65.38461538461539%;"></a>
    
        <a href="../creating_an_api/README" title="Creating an API" class="chapter  new-chapter" data-progress="5" style="left: 69.23076923076923%;"></a>
    
        <a href="../creating_an_api/postman" title="Postman" class="chapter  " data-progress="5.1" style="left: 73.07692307692308%;"></a>
    
        <a href="../frontend/README.html" title="Frontend" class="chapter  new-chapter" data-progress="6" style="left: 76.92307692307692%;"></a>
    
        <a href="../frontend/inside_the_current_application" title="Inside the current application" class="chapter  " data-progress="6.1" style="left: 80.76923076923077%;"></a>
    
        <a href="../frontend/bootstrap_simple_guide_of_use" title="Bootstrap: simple guide of use" class="chapter  " data-progress="6.1.1" style="left: 84.61538461538461%;"></a>
    
        <a href="../frontend/using_sass" title="Using SASS" class="chapter  " data-progress="6.1.2" style="left: 88.46153846153847%;"></a>
    
        <a href="../frontend/client-side_using_the_api" title="Client-side using the API" class="chapter  " data-progress="6.2" style="left: 92.3076923076923%;"></a>
    
        <a href="../upload_to_heroku/README" title="Upload to Heroku" class="chapter  new-chapter" data-progress="7" style="left: 96.15384615384616%;"></a>
    
        <a href="../bonus_create_your_own_gem/README" title="BONUS: Create your own gem" class="chapter  new-chapter" data-progress="8" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_3324">
                    
                        <h1 id="creating-the-cruds">Creating the CRUD&#39;s</h1>
<p>Guided by the routes, it&#39;s the moment to create the basic operations. Now, maybe it makes no sense. It seems that we have nothing, but in my opinion, fixing that before having any visual information is going to help us to go faster in the future</p>
<p>First of all, let&#39;s create the controllers. The CRUD operations are going to be managed by the controlers.</p>
<pre><code>$ rails g controller users
</code></pre><pre><code>$ rails g controller bags
</code></pre><pre><code>$ rails g controller items
</code></pre><pre><code>$ rails g controller trips
</code></pre><p>Following the naming convention, controllers must be in plural. Check out that you have written them correctly, otherwise the application won&#39;t work and you will have to change every controller name from singular to plural manually.</p>
<p>We are going to start with the users. In this case, we are not going to create ALL the CRUD operations of the user, because in the future we are going to install a gem that will prepare al the user functions automatically. However, we need users if we want to have bags, items and trips, true?</p>
<p>Let&#39;s create our first users in our database using the rails console. Type the following commands, and you will have your first user :)</p>
<pre><code>$ rails c
</code></pre><pre><code>2.0.0-p481 :002 &gt; user = User.new
 =&gt; #&lt;User id: nil, username: nil, password: nil, email: nil, created_at: nil, updated_at: nil&gt;
2.0.0-p481 :003 &gt; user.username = &quot;ElenaTorro&quot;
 =&gt; &quot;ElenaTorro&quot;
2.0.0-p481 :004 &gt; user.password = &quot;mipassword1&quot;
 =&gt; &quot;mipassword1&quot;
2.0.0-p481 :005 &gt; user.email = &quot;elenatorro@gmail.com&quot;
 =&gt; &quot;elenatorro@gmail.com&quot;
2.0.0-p481 :006 &gt; user.save
   (0.2ms)  BEGIN
  SQL (1.1ms)  INSERT INTO &quot;users&quot; (&quot;created_at&quot;, &quot;email&quot;, &quot;password&quot;, &quot;updated_at&quot;, &quot;username&quot;) VALUES ($1, $2, $3, $4, $5) RETURNING &quot;id&quot;  [[&quot;created_at&quot;, &quot;2014-08-10 14:23:43.969135&quot;], [&quot;email&quot;, &quot;elenatorro@gmail.com&quot;], [&quot;password&quot;, &quot;mipassword1&quot;], [&quot;updated_at&quot;, &quot;2014-08-10 14:23:43.969135&quot;], [&quot;username&quot;, &quot;ElenaTorro&quot;]]
   (0.6ms)  COMMIT
 =&gt; true
2.0.0-p481 :007 &gt; User.first
  User Load (0.9ms)  SELECT  &quot;users&quot;.* FROM &quot;users&quot;   ORDER BY &quot;users&quot;.&quot;id&quot; ASC LIMIT 1
 =&gt; #&lt;User id: 1, username: &quot;ElenaTorro&quot;, password: &quot;mipassword1&quot;, email: &quot;elenatorro@gmail.com&quot;, created_at: &quot;2014-08-10 14:23:43&quot;, updated_at: &quot;2014-08-10 14:23:43&quot;&gt;
2.0.0-p481 :008 &gt;
</code></pre><p>This is how we are going to do this:</p>
<ol>
<li>Inside the users folder in the views (app/views/users) we are going to create an index file, called &quot;index.html.erb&quot;</li>
<li>This file is going to contain only a &quot;log in&quot; button.</li>
<li>Then, in the same folder, we are going to create another file called &quot;show.html.erb&quot;</li>
<li>By default, in the path /localhost:3000/users, the file &quot;index&quot; is going to be rendered automatically.</li>
<li>In the log in button, we are going to say that we want to go to the user with id number 1 (which is the one we just created).</li>
<li>Then, it will redirect us to the show file. There, we are going to show the name of this user.
7.</li>
</ol>
<p>READY?</p>
<h3 id="user-controller">User Controller</h3>
<pre><code class="lang-ruby"><span class="hljs-comment">#app/controllers/users_controller.rb</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsersController</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">ApplicationController</span></span></span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> </span>show
        <span class="hljs-variable">@user</span> = <span class="hljs-constant">User</span>.find_by(<span class="hljs-symbol">id:</span> params[<span class="hljs-symbol">:id</span>])
    <span class="hljs-keyword">end</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> </span>user_params
        params.<span class="hljs-keyword">require</span>(<span class="hljs-symbol">:user</span>);
    <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>
`
</code></pre>
<p>It means that we are going to send the user id as a parameter (throught the route). Then, we are going to get the id and look for this user in the database. We will save this user in a variable.</p>
<h3 id="user-index">User index</h3>
<pre><code class="lang-ruby"><span class="hljs-comment">#app/views/users/index.html.erb</span>
&lt;a href=<span class="hljs-string">"users/1"</span>&gt;<span class="hljs-constant">Log</span> <span class="hljs-constant">In</span>&lt;<span class="hljs-regexp">/a&gt;</span>
</code></pre>
<h3 id="user-show">User show</h3>
<pre><code class="lang-ruby"><span class="hljs-comment">#app/views/users/show.html.erb</span>
&lt;h2&gt;<span class="hljs-constant">Welcome</span> &lt;%= <span class="hljs-variable">@user</span>.username %&gt;&lt;<span class="hljs-regexp">/h2&gt;</span>
</code></pre>
<p>Now, go to <a href="http://localhost:3000/users" target="_blank">http://localhost:3000/users</a> , click on the loggin button and see what happens :)</p>
<p>This is all we are going to do with the user controller right now. Let&#39;s focus in the other models, and we will come back to the user later.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../backend/crud.html" class="navigation navigation-prev " aria-label="Previous page: CRUD"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../backend/bag_crud.html" class="navigation navigation-next " aria-label="Next page: First Form"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
